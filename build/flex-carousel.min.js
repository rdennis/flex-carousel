(function(a,b){function c(a,...b){return b.filter((a)=>!!a).join(a)}function d(a){return a&&String.prototype.trim.call(a)&&!isNaN(a)?+a:a}function e(a){return a.replace(r,(a,b)=>b.toUpperCase())}function f(a){return s.get(a)||new Set}function g(a,b){s.has(a)||s.set(a,new Set),f(a).add(b)}function h(a,b){let d,f=b;for(let g,h=0,i=q.length;h<i;h++)if(g=q[h],f=c('-',g,b),d=e(f),a.dataset.hasOwnProperty(d)||a.hasAttribute(f))return f;return b}function i(a){let b=a.getAttribute('id');return b||(b=`flex-carousel-${++t}`,a.setAttribute('id',b)),b}function j(a,b){let c=h(a,b),d=e(c);return a&&(a.dataset[d]||a.getAttribute(c))||''}function k(a){let b=h(a,'item'),c=j(a,b)||'',e=c.split(';');return e.reduce((a,b)=>{let[c,e]=b.split(':');return c=c.trim(),e=d(e),a[c]=e,a},{})}function l(a,b){if(a&&0<a.length)for(let c,d=0,e=a.length;d<e;d++)c=a.item(d),c.setAttribute('aria-hidden',d===b)}function m(a,b){let c;a&&b&&b.size&&a.el&&!(c=a.el.getAttribute('aria-controls'))&&(c='',b.forEach((a)=>{if(a&&a.el){let b=a.el.getAttribute('id');c+=` ${b}`}}),a.el.setAttribute('aria-controls',c.trim()))}function n(a,b){let c=0;return'string'==typeof b?'+1'===b||b===p.FORWARD?c=a.currentIndex+1:'-1'===b||b===p.REVERSE?c=a.currentIndex-1:c=parseInt(b,10)||0:'number'==typeof b&&(c=b),c=0>c?a.itemCount-1:c,c=c>a.itemCount-1?0:c,c}function o(a,b){let c=b===a.index;c?a.el.setAttribute('data-flex-carousel-indicator-active',''):a.el.removeAttribute('data-flex-carousel-indicator-active'),a.activeClass&&a.el.classList.toggle(a.activeClass,c)}const p={FORWARD:'forward',REVERSE:'reverse'},q=['flex-carousel','fc'],r=/-(\w)?/g,s=new Map;let t=0,u={FlexCarousel:{initialIndex:0,autoPlay:!0,direction:p.FORWARD,speed:5e3,prefixes:q},FlexCarouselIndicator:{activeClass:''}};class v{constructor(a,b){if(!a)throw'FlexCarousel needs an Element!';this.settings=Object.assign({},v.defaults,b),this.el=a,this.id=i(this.el),[this.name]=j(a).split(':'),this.currentIndex=this.settings.initialIndex,this.items=this.el.children,this.itemCount=this.items.length;let c=window.getComputedStyle(this.el.parentElement),d=window.getComputedStyle(this.el);'hidden'!==c.overflowX&&(this.el.parentElement.style.overflowX='hidden'),'static'===d.position&&(a.style.position='relative'),d.display.includes('flex')||(a.style.display='flex'),this.el.style.width=`${100*this.items.length}%`;for(let c,d=0,e=this.itemCount;d<e;d++)c=this.items.item(d),c.style.flex='1 0 auto';g(this.name,this),['slide','play','pause','toggle'].forEach((a)=>{this.el.addEventListener(`fc:${a}`,(b)=>this[a](b.detail))}),this.slide(this.currentIndex),this.settings.autoPlay&&this.play()}slide(b){this.currentIndex=n(this,b);let c=100*this.currentIndex;this.el.style.left=`-${c}%`,l(this.items,this.currentIndex),this.el.dispatchEvent(new CustomEvent('fc:slid',{detail:this.currentIndex})),this._timeout&&(a.clearTimeout(this._timeout),a.setTimeout(()=>this.play(),0))}play(){a.clearTimeout(this._timeout),this._timeout=null;let b=this.items.item(this.currentIndex),c=Object.assign({},this.settings,k(b));this._timeout=a.setTimeout(()=>{this.slide(this.settings.direction),this.play()},c.speed)}pause(){a.clearTimeout(this._timeout),this._timeout=null}toggle(){this._timeout?this.pause():this.play()}static get defaults(){return u.FlexCarousel}static set defaults(a){u.FlexCarousel=a}}class w{constructor(a){if(!a)throw'FlexCarouselControl needs an Element!';this.el=a,[this.targetName,this.event,this.param]=j(a,'control').split(':'),m(this,f(this.targetName)),this.el.addEventListener('click',()=>this.onclick())}onclick(){let a=f(this.targetName);a.forEach((a)=>{a&&a.el&&a.el.dispatchEvent(new CustomEvent(`fc:${this.event}`,{detail:this.param}))})}}class x{constructor(a,b){if(!a)throw'FlexCarouselIndicator needs an Element!';this.el=a,this.settings=Object.assign({},x.defaults,b),[this.targetName,this.index,this.activeClass]=j(a,'indicator').split(':'),this.index=parseInt(this.index),this.activeClass=this.activeClass||this.settings.activeClass;let c=f(this.targetName);c.forEach((a)=>{a&&a.el&&(a.el.addEventListener('fc:slid',(a)=>this.onslid(a)),o(this,a.currentIndex))})}onslid(a){o(this,parseInt(a.detail))}static get defaults(){return u.FlexCarouselIndicator}static set defaults(a){u.FlexCarouselIndicator=a}}a.FlexCarousel=v,a.FlexCarouselControl=w,a.FlexCarouselIndicator=x,b.addEventListener('fc:init',function a(d){d.target.removeEventListener(d.type,a);let e={"":v,control:w,indicator:x};Object.keys(e).forEach((a)=>{let d=e[a],f=q.reduce((b,d)=>{let e=c('-',d,a);return c(',',b,`[data-${e}]`,`[${e}]`)},'');b.querySelectorAll(f).forEach((a)=>new d(a))})}),b.dispatchEvent(new CustomEvent('fc:init'))})(window,document);
